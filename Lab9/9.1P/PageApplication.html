<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Bootstrap CSS reference-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <title>Page Application</title>
    <style>
        body {
            background-color: #FFF; /* background */
            font-family: Arial, sans-serif;
        }
        h2 {
            color: #5f1919; /* header main */
            font-size: 30px;
        }
        h1 {
            color: #0a0055; /* header topic */
        }
        /* Display menu */
        .menu {
            margin-top: 10px;
        }
        .menu > div {
            display: inline-block;
            margin-right: 5px;
            color: rgb(1, 119, 93);
            font-size: 15px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <h2>Single Page Application</h2>
    <div class="menu">
        <div class="sm" onclick="redirectToSM()">Student Mark</div>
        <div class="mp" onclick="redirectToMP()">My Post</div>
        <div class="st" onclick="redirectToST()">String Test</div>
    </div>
    <!-- 8.1 Student Marks -->
    <div id="app1" class="container">
        <h1>Student Marks</h1>
        <table class="table table-striped">
            <thead>
                <tr>
                    <th scope="col">Student Name</th>
                    <th scope="col">Marks</th>
                </tr>
            </thead>
            <tbody>
                <tr v-for="(student, index) in paginatedGrades" :key="index">
                    <td>{{ student.name }}</td>
                    <td>{{ student.grade }}</td>
                </tr>
            </tbody>
        </table>
        <nav aria-label="Pagination">
            <ul class="pagination justify-content-center">
                <li class="page-item" :class="{ 'disabled': currentPage === 1 }">
                    <button class="page-link" @click="prevPage">Prev Page</button>
                </li>
                <li class="page-item" v-for="page in totalPages" :key="page" :class="{ 'active': currentPage === page }">
                    <button class="page-link" @click="changePage(page)">{{ page }}</button>
                </li>
                <li class="page-item" :class="{ 'disabled': currentPage === totalPages }">
                    <button class="page-link" @click="nextPage">Next Page</button>
                </li>
            </ul>
        </nav>
    </div>
    <!-- 5.1 My Post -->
    <div id="app2" class="container" style="display: none;">
        <h1>My Post</h1>
        <div>
            <label for="strStatus">Status</label>
            <input
                type="text"
                id="strStatus"
                v-model="strStatus"
            />
            <button @click="add">Post</button>
            <ul>
                <li v-for="(s, index) in statPosts" :key="index">
                {{ s }}<button @click="remove(index)">Delete</button>
                </li>
            </ul>
        </div>
    </div>
    <!-- 3.1 String Test -->
    <div id="app3" style="display: none;">
        <h1>String Test</h1>
        {{ string }} <input type="text" v-model="strName">
        <p v-if="strName.toLowerCase() === 'khoa'">Awesome name!</p>
        <p v-else-if="strName === '' ">Input your name.</p>
        <p v-else>
            <i>{{strName}}</i> is not my name.
        </p>
    </div>
    <!-- Bootstrap JavaScript reference -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- VueJS Script -->
    <script src="vue.js"></script>
    <script>
        // 8.1 Student Marks
        const app1 = Vue.createApp({
            data() {
                return { 
                    studGrades: [ // 26 student names with 26 different starting letters
                        {"name": "Amy", "grade": 90},
                        {"name": "Bill", "grade": 80},
                        {"name": "Casey", "grade": 78},
                        {"name": "David", "grade": 84},
                        {"name": "Emily", "grade": 75},
                        {"name": "Frank", "grade": 88},
                        {"name": "Grace", "grade": 82},
                        {"name": "Henry", "grade": 72},
                        {"name": "Ivy", "grade": 85},
                        {"name": "Jack", "grade": 79},
                        {"name": "Katie", "grade": 91},
                        {"name": "Leo", "grade": 77},
                        {"name": "Mia", "grade": 83},
                        {"name": "Nick", "grade": 86},
                        {"name": "Olivia", "grade": 76},
                        {"name": "Peter", "grade": 81},
                        {"name": "Quinn", "grade": 89},
                        {"name": "Rachel", "grade": 74},
                        {"name": "Sam", "grade": 87},
                        {"name": "Tina", "grade": 92},
                        {"name": "Uma", "grade": 73},
                        {"name": "Victor", "grade": 78},
                        {"name": "Wendy", "grade": 90},
                        {"name": "Xander", "grade": 84},
                        {"name": "Yara", "grade": 88},
                        {"name": "Zoe", "grade": 65} 
                    ],
                    pageSize: 3,
                    currentPage: 1
                }
            },
            computed: {
                totalPages() {
                    return Math.ceil(this.studGrades.length / this.pageSize);
                },
                paginatedGrades() {
                    const start = (this.currentPage - 1) * this.pageSize;
                    const end = start + this.pageSize;
                    return this.studGrades.slice(start, end);
                }
            },
            methods: {
                changePage(page) {
                    this.currentPage = page;
                },
                prevPage() {
                    if (this.currentPage > 1) {
                        this.currentPage--;
                    }
                },
                nextPage() {
                    if (this.currentPage < this.totalPages) {
                        this.currentPage++;
                    }
                }
            }
        });
        app1.mount("#app1"); 

        // 5.1 My Post
        const app2 = Vue.createApp({
            data() {
                return {
                    statPosts: [],
                    strStatus: ""
                };
            },
            methods: {
                add() {
                    this.statPosts.push(this.strStatus);
                },
                remove(index) {
                    this.statPosts.splice(index, 1);
                }
            }
        });
        app2.mount("#app2");

        // 3.1 String Test
        const app3 = Vue.createApp({
            data() {
                return {
                    string: "Please enter your name:",
                    strName: "",
                }
            },
        })
        app3.mount('#app3')
        
        // Toggle Vue apps on button click
        function redirectToSM() {
            document.getElementById("app1").style.display = "block";
            document.getElementById("app2").style.display = "none";
            document.getElementById("app3").style.display = "none";
        }
        function redirectToMP() {
            document.getElementById("app1").style.display = "none";
            document.getElementById("app2").style.display = "block";
            document.getElementById("app3").style.display = "none";
        }
        function redirectToST() {
            document.getElementById("app1").style.display = "none";
            document.getElementById("app2").style.display = "none";
            document.getElementById("app3").style.display = "block";
        }
    </script>
</body>
</html>
